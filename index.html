<!doctype html>
<html lang="pt">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>NewsHub MOZ - Agregador Inteligente</title>
    <meta name="description" content="Agregador de notícias de Moçambique em tempo real">
    <meta name="theme-color" content="#1a73e8">
    
    <!-- SEO Meta Tags -->
    <meta property="og:title" content="NewsHub MOZ - Notícias em Tempo Real">
    <meta property="og:description" content="Todas as notícias de Moçambique em um só lugar">
    <meta property="og:type" content="website">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Styles -->
    <style>
    :root {
        --primary-color: #1a73e8;
        --primary-dark: #0d47a1;
        --secondary-color: #4285f4;
        --accent-color: #34a853;
        --warning-color: #fbbc05;
        --danger-color: #ea4335;
        --dark-color: #202124;
        --dark-gray: #5f6368;
        --medium-gray: #80868b;
        --light-gray: #dadce0;
        --background-gray: #f8f9fa;
        --white: #ffffff;
        --card-shadow: 0 1px 6px rgba(32, 33, 36, 0.28);
        --card-shadow-hover: 0 4px 12px rgba(32, 33, 36, 0.15);
        --header-shadow: 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
    }

    * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
    }

    body {
        font-family: 'Roboto', 'Segoe UI', Arial, sans-serif;
        background-color: var(--background-gray);
        color: var(--dark-color);
        line-height: 1.5;
        font-weight: 400;
        overflow-x: hidden;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    /* HEADER */
    .main-header {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        background: var(--white);
        box-shadow: var(--header-shadow);
        z-index: 1000;
        height: 64px;
        display: flex;
        align-items: center;
        padding: 0 24px;
    }

    .header-container {
        display: flex;
        align-items: center;
        justify-content: space-between;
        width: 100%;
        max-width: 1400px;
        margin: 0 auto;
    }

    .logo {
        display: flex;
        align-items: center;
        gap: 12px;
        text-decoration: none;
    }

    .logo-icon {
        width: 40px;
        height: 40px;
        background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--white);
        font-size: 20px;
        font-weight: 700;
    }

    .logo-text {
        font-family: 'Inter', sans-serif;
        font-size: 22px;
        font-weight: 700;
        color: var(--dark-color);
        letter-spacing: -0.5px;
    }

    .logo-text span {
        color: var(--primary-color);
        font-weight: 800;
    }

    .header-actions {
        display: flex;
        align-items: center;
        gap: 16px;
    }

    .header-btn {
        background: none;
        border: none;
        padding: 10px 16px;
        border-radius: 20px;
        font-size: 14px;
        font-weight: 500;
        color: var(--dark-gray);
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 8px;
        transition: all 0.2s;
    }

    .header-btn:hover {
        background-color: rgba(26, 115, 232, 0.04);
        color: var(--primary-color);
    }

    .header-btn.primary {
        background-color: var(--primary-color);
        color: var(--white);
        padding: 10px 24px;
    }

    .header-btn.primary:hover {
        background-color: var(--primary-dark);
        box-shadow: 0 2px 6px rgba(26, 115, 232, 0.3);
    }

    /* NAVIGATION */
    .main-nav {
        position: fixed;
        top: 64px;
        left: 0;
        right: 0;
        background: var(--white);
        border-bottom: 1px solid var(--light-gray);
        z-index: 999;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }

    .nav-container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 0 24px;
        display: flex;
        gap: 8px;
    }

    .nav-item {
        padding: 12px 16px;
        font-size: 14px;
        font-weight: 500;
        color: var(--dark-gray);
        text-decoration: none;
        white-space: nowrap;
        border-bottom: 3px solid transparent;
        transition: all 0.2s;
        position: relative;
    }

    .nav-item:hover {
        color: var(--primary-color);
        background-color: rgba(26, 115, 232, 0.04);
    }

    .nav-item.active {
        color: var(--primary-color);
        border-bottom-color: var(--primary-color);
        font-weight: 600;
    }

    /* SEARCH BAR */
    .search-section {
        margin-top: 128px;
        padding: 0 24px 24px;
        background: linear-gradient(to right, #f8f9fa, #ffffff);
    }

    .search-container {
        max-width: 720px;
        margin: 0 auto;
        position: relative;
    }

    .search-box {
        position: relative;
        background: var(--white);
        border-radius: 24px;
        box-shadow: var(--card-shadow);
        border: 1px solid var(--light-gray);
        overflow: hidden;
        transition: all 0.3s;
    }

    .search-box:focus-within {
        box-shadow: 0 4px 12px rgba(66, 133, 244, 0.2);
        border-color: var(--primary-color);
    }

    .search-icon {
        position: absolute;
        left: 20px;
        top: 50%;
        transform: translateY(-50%);
        color: var(--medium-gray);
        font-size: 18px;
    }

    .search-input {
        width: 100%;
        padding: 18px 24px 18px 56px;
        border: none;
        background: transparent;
        font-size: 16px;
        color: var(--dark-color);
        outline: none;
        font-family: 'Roboto', sans-serif;
    }

    .search-input::placeholder {
        color: var(--medium-gray);
    }

    /* MAIN CONTENT */
    .main-content {
        max-width: 1400px;
        margin: 0 auto;
        padding: 0 24px 48px;
    }

    /* FEATURED SECTION */
    .featured-section {
        margin-bottom: 40px;
    }

    .section-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 20px;
        padding-bottom: 12px;
        border-bottom: 1px solid var(--light-gray);
    }

    .section-title {
        font-size: 24px;
        font-weight: 700;
        color: var(--dark-color);
        display: flex;
        align-items: center;
        gap: 12px;
    }

    .section-title i {
        color: var(--primary-color);
    }

    .section-actions {
        display: flex;
        gap: 12px;
    }

    .action-btn {
        padding: 8px 16px;
        border: 1px solid var(--light-gray);
        background: var(--white);
        border-radius: 20px;
        font-size: 14px;
        font-weight: 500;
        color: var(--dark-gray);
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 6px;
        transition: all 0.2s;
    }

    .action-btn:hover {
        background-color: var(--background-gray);
        border-color: var(--medium-gray);
    }

    /* NEWS GRID */
    .news-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
        gap: 24px;
        margin-bottom: 40px;
    }

    /* CARD STYLES */
    .news-card {
        background: var(--white);
        border-radius: 12px;
        overflow: hidden;
        box-shadow: var(--card-shadow);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        height: 100%;
        display: flex;
        flex-direction: column;
        border: 1px solid transparent;
    }

    .news-card:hover {
        transform: translateY(-4px);
        box-shadow: var(--card-shadow-hover);
        border-color: var(--light-gray);
    }

    .news-card.featured {
        grid-column: span 2;
        display: grid;
        grid-template-columns: 1fr 1fr;
    }

    .news-image {
        position: relative;
        overflow: hidden;
        background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    }

    .news-card:not(.featured) .news-image {
        height: 180px;
    }

    .news-card.featured .news-image {
        height: 100%;
        min-height: 320px;
    }

    .news-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.5s ease;
    }

    .news-card:hover .news-image img {
        transform: scale(1.05);
    }

    .image-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(to top, rgba(0,0,0,0.5), transparent);
    }

    .category-badge {
        position: absolute;
        top: 16px;
        left: 16px;
        background: rgba(255, 255, 255, 0.95);
        color: var(--dark-color);
        padding: 6px 12px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        z-index: 2;
    }

    .save-btn {
        position: absolute;
        top: 16px;
        right: 16px;
        width: 36px;
        height: 36px;
        background: rgba(255, 255, 255, 0.95);
        border: none;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        z-index: 2;
        transition: all 0.2s;
        color: var(--dark-gray);
    }

    .save-btn:hover {
        background: var(--white);
        color: var(--primary-color);
        transform: scale(1.1);
    }

    .save-btn.saved {
        background: var(--accent-color);
        color: var(--white);
    }

    .news-content {
        padding: 20px;
        flex: 1;
        display: flex;
        flex-direction: column;
    }

    .news-title {
        font-size: 18px;
        font-weight: 600;
        line-height: 1.4;
        color: var(--dark-color);
        margin-bottom: 12px;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .news-card.featured .news-title {
        font-size: 22px;
        -webkit-line-clamp: 2;
    }

    .news-excerpt {
        font-size: 14px;
        color: var(--dark-gray);
        line-height: 1.5;
        margin-bottom: 16px;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
        flex: 1;
    }

    .news-meta {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: auto;
        padding-top: 16px;
        border-top: 1px solid var(--light-gray);
    }

    .source-info {
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .source-icon {
        width: 24px;
        height: 24px;
        border-radius: 50%;
        background: var(--primary-color);
        color: var(--white);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 12px;
        font-weight: 600;
    }

    .source-name {
        font-size: 13px;
        color: var(--dark-gray);
        font-weight: 500;
    }

    .news-time {
        font-size: 13px;
        color: var(--medium-gray);
        display: flex;
        align-items: center;
        gap: 4px;
    }

    /* TRENDING SECTION */
    .trending-section {
        margin-bottom: 48px;
    }

    .trending-list {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 16px;
    }

    .trending-item {
        background: var(--white);
        padding: 16px;
        border-radius: 12px;
        box-shadow: var(--card-shadow);
        transition: all 0.2s;
    }

    .trending-item:hover {
        transform: translateY(-2px);
        box-shadow: var(--card-shadow-hover);
    }

    .trending-number {
        font-size: 12px;
        font-weight: 700;
        color: var(--primary-color);
        margin-bottom: 8px;
    }

    .trending-title {
        font-size: 15px;
        font-weight: 500;
        line-height: 1.4;
        margin-bottom: 8px;
    }

    .trending-meta {
        display: flex;
        justify-content: space-between;
        font-size: 12px;
        color: var(--medium-gray);
    }

    /* LOADING STATES */
    .skeleton {
        background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
        background-size: 200% 100%;
        animation: loading 1.5s infinite;
    }

    @keyframes loading {
        0% { background-position: 200% 0; }
        100% { background-position: -200% 0; }
    }

    .skeleton-card {
        height: 320px;
        border-radius: 12px;
        margin-bottom: 24px;
    }

    .skeleton-title {
        height: 24px;
        width: 80%;
        margin-bottom: 12px;
        border-radius: 4px;
    }

    .skeleton-text {
        height: 16px;
        width: 100%;
        margin-bottom: 8px;
        border-radius: 4px;
    }

    /* EMPTY STATE */
    .empty-state {
        text-align: center;
        padding: 64px 24px;
        background: var(--white);
        border-radius: 12px;
        box-shadow: var(--card-shadow);
    }

    .empty-icon {
        font-size: 64px;
        color: var(--light-gray);
        margin-bottom: 24px;
    }

    .empty-title {
        font-size: 20px;
        font-weight: 600;
        color: var(--dark-gray);
        margin-bottom: 12px;
    }

    .empty-text {
        color: var(--medium-gray);
        max-width: 400px;
        margin: 0 auto 24px;
        line-height: 1.5;
    }

    /* REAL-TIME INDICATOR */
    .real-time-indicator {
        position: fixed;
        bottom: 24px;
        right: 24px;
        background: var(--white);
        border-radius: 20px;
        padding: 10px 16px;
        box-shadow: var(--card-shadow-hover);
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 13px;
        font-weight: 500;
        color: var(--dark-gray);
        z-index: 100;
        animation: slideUp 0.3s ease;
    }

    @keyframes slideUp {
        from { transform: translateY(100%); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
    }

    .live-dot {
        width: 8px;
        height: 8px;
        background: var(--accent-color);
        border-radius: 50%;
        animation: pulse 2s infinite;
    }

    @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
    }

    /* SCROLL TO TOP */
    .scroll-top {
        position: fixed;
        bottom: 80px;
        right: 24px;
        width: 48px;
        height: 48px;
        background: var(--white);
        border: none;
        border-radius: 50%;
        box-shadow: var(--card-shadow-hover);
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        z-index: 100;
        transition: all 0.3s;
        opacity: 0;
        transform: translateY(20px);
    }

    .scroll-top.visible {
        opacity: 1;
        transform: translateY(0);
    }

    .scroll-top:hover {
        background: var(--primary-color);
        color: var(--white);
        transform: translateY(-2px);
    }

    /* FOOTER */
    .main-footer {
        background: var(--dark-color);
        color: var(--white);
        padding: 48px 24px 24px;
        margin-top: 64px;
    }

    .footer-container {
        max-width: 1400px;
        margin: 0 auto;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 40px;
    }

    .footer-section h3 {
        font-size: 16px;
        font-weight: 600;
        margin-bottom: 20px;
        color: var(--light-gray);
    }

    .footer-links {
        list-style: none;
    }

    .footer-links li {
        margin-bottom: 12px;
    }

    .footer-links a {
        color: var(--medium-gray);
        text-decoration: none;
        font-size: 14px;
        transition: color 0.2s;
    }

    .footer-links a:hover {
        color: var(--white);
    }

    .copyright {
        text-align: center;
        padding-top: 24px;
        margin-top: 40px;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        color: var(--medium-gray);
        font-size: 13px;
    }

    /* RESPONSIVE */
    @media (max-width: 1200px) {
        .news-grid {
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        }
        
        .news-card.featured {
            grid-template-columns: 1fr;
        }
    }

    @media (max-width: 768px) {
        .main-header {
            padding: 0 16px;
            height: 56px;
        }
        
        .header-container {
            flex-wrap: wrap;
        }
        
        .logo-text {
            font-size: 18px;
        }
        
        .main-nav {
            top: 56px;
        }
        
        .nav-container {
            padding: 0 16px;
        }
        
        .search-section {
            margin-top: 112px;
            padding: 0 16px 20px;
        }
        
        .main-content {
            padding: 0 16px 32px;
        }
        
        .news-card.featured {
            grid-column: span 1;
        }
        
        .featured-section .news-grid {
            grid-template-columns: 1fr;
        }
    }

    @media (max-width: 480px) {
        .header-actions .header-btn span {
            display: none;
        }
        
        .news-grid {
            grid-template-columns: 1fr;
        }
        
        .section-header {
            flex-direction: column;
            align-items: flex-start;
            gap: 12px;
        }
        
        .section-actions {
            width: 100%;
            overflow-x: auto;
            padding-bottom: 8px;
        }
    }

    /* DARK MODE SUPPORT */
    @media (prefers-color-scheme: dark) {
        :root {
            --dark-color: #e8eaed;
            --dark-gray: #9aa0a6;
            --medium-gray: #bdc1c6;
            --light-gray: #3c4043;
            --background-gray: #202124;
            --white: #292a2d;
        }
        
        .main-header,
        .main-nav {
            background: #202124;
            border-bottom-color: #3c4043;
        }
        
        .news-card,
        .trending-item,
        .search-box {
            background: #292a2d;
            border-color: #3c4043;
        }
        
        .skeleton {
            background: linear-gradient(90deg, #2d2e31 25%, #3c4043 50%, #2d2e31 75%);
        }
    }
    </style>
</head>
<body>
    <!-- HEADER -->
        <header class="main-header">
        <div class="header-container">
            <a href="#" class="logo">
                <div class="logo-icon">
                    <i class="fas fa-newspaper"></i>
                </div>
                <div class="logo-text">News<span>Hub</span> MOZ</div>
            </a>
            
            <div class="header-actions">
                <button class="header-btn" onclick="showCategories()">
                    <i class="fas fa-th"></i>
                    <span>Categorias</span>
                </button>
                <button class="header-btn" onclick="openAdminPanel()">
                    <i class="fas fa-cog"></i>
                    <span>Admin</span>
                </button>
            </div>
        </div>
    </header>

    <!-- NAVIGATION -->
    <nav class="main-nav">
        <div class="nav-container">
            <a href="#" class="nav-item active" onclick="filterByCategory('all')">
                <i class="fas fa-globe"></i> Todos
            </a>
            <a href="#" class="nav-item" onclick="filterByCategory('politics')">
                <i class="fas fa-landmark"></i> Política
            </a>
            <a href="#" class="nav-item" onclick="filterByCategory('economy')">
                <i class="fas fa-chart-line"></i> Economia
            </a>
            <a href="#" class="nav-item" onclick="filterByCategory('sports')">
                <i class="fas fa-futbol"></i> Esportes
            </a>
            <a href="#" class="nav-item" onclick="filterByCategory('society')">
                <i class="fas fa-users"></i> Sociedade
            </a>
            <a href="#" class="nav-item" onclick="filterByCategory('health')">
                <i class="fas fa-heartbeat"></i> Saúde
            </a>
            <a href="#" class="nav-item" onclick="filterByCategory('tech')">
                <i class="fas fa-microchip"></i> Tecnologia
            </a>
            <a href="#" class="nav-item" onclick="filterByCategory('culture')">
                <i class="fas fa-paint-brush"></i> Cultura
            </a>
            <a href="#" class="nav-item" onclick="showSavedNews()">
                <i class="fas fa-star"></i> Guardadas
            </a>
        </div>
    </nav>

    <!-- SEARCH -->
    <section class="search-section">
        <div class="search-container">
            <div class="search-box">
                <div class="search-icon">
                    <i class="fas fa-search"></i>
                </div>
                <input type="text" 
                       class="search-input" 
                       placeholder="Pesquisar notícias..." 
                       oninput="searchNews(this.value)">
            </div>
        </div>
    </section>

    <!-- MAIN CONTENT -->
    <main class="main-content">
        <!-- FEATURED NEWS -->
        <section class="featured-section">
            <div class="section-header">
                <h2 class="section-title">
                    <i class="fas fa-fire"></i> Destaques
                </h2>
                <div class="section-actions">
                    <button class="action-btn" onclick="refreshNews()">
                        <i class="fas fa-sync-alt"></i> Atualizar
                    </button>
                    <button class="action-btn" onclick="sortByTime('newest')">
                        <i class="fas fa-sort-amount-down"></i> Mais Recentes
                    </button>
                </div>
            </div>
            
            <div class="news-grid" id="featured-news">
                <!-- Notícias em destaque serão carregadas aqui -->
                <div class="skeleton skeleton-card"></div>
                <div class="skeleton skeleton-card"></div>
                <div class="skeleton skeleton-card"></div>
            </div>
        </section>

        <!-- TRENDING NEWS -->
        <section class="trending-section">
            <div class="section-header">
                <h2 class="section-title">
                    <i class="fas fa-chart-line"></i> Em Alta
                </h2>
                <button class="action-btn" onclick="showMoreTrending()">
                    <i class="fas fa-ellipsis-h"></i> Ver Mais
                </button>
            </div>
            
            <div class="trending-list" id="trending-news">
                <!-- Notícias em alta serão carregadas aqui -->
                <div class="trending-item skeleton">
                    <div class="skeleton-title"></div>
                    <div class="skeleton-text"></div>
                    <div class="skeleton-text" style="width: 60%;"></div>
                </div>
                <div class="trending-item skeleton">
                    <div class="skeleton-title"></div>
                    <div class="skeleton-text"></div>
                    <div class="skeleton-text" style="width: 60%;"></div>
                </div>
                <div class="trending-item skeleton">
                    <div class="skeleton-title"></div>
                    <div class="skeleton-text"></div>
                    <div class="skeleton-text" style="width: 60%;"></div>
                </div>
            </div>
        </section>

        <!-- ALL NEWS -->
        <section class="all-news-section">
            <div class="section-header">
                <h2 class="section-title">
                    <i class="fas fa-newspaper"></i> Todas as Notícias
                </h2>
                <div class="section-actions">
                    <button class="action-btn" onclick="toggleViewMode()">
                        <i class="fas fa-th"></i> Grid
                    </button>
                    <button class="action-btn" onclick="exportNews()">
                        <i class="fas fa-download"></i> Exportar
                    </button>
                </div>
            </div>
            
            <div class="news-grid" id="all-news">
                <!-- Todas as notícias serão carregadas aqui -->
                <div class="skeleton skeleton-card"></div>
                <div class="skeleton skeleton-card"></div>
                <div class="skeleton skeleton-card"></div>
                <div class="skeleton skeleton-card"></div>
                <div class="skeleton skeleton-card"></div>
                <div class="skeleton skeleton-card"></div>
            </div>
        </section>
    </main>
   <!-- EMPTY STATE -->
    <div id="empty-state" class="empty-state" style="display: none;">
        <div class="empty-icon">
            <i class="fas fa-newspaper"></i>
        </div>
        <h3 class="empty-title">Nenhuma notícia encontrada</h3>
        <p class="empty-text">Tente alterar os filtros de busca ou atualizar a página</p>
        <button class="header-btn primary" onclick="refreshNews()">
            <i class="fas fa-sync-alt"></i> Atualizar Notícias
        </button>
    </div>

    <!-- REAL-TIME INDICATOR -->
    <div id="real-time-indicator" class="real-time-indicator" style="display: none;">
        <div class="live-dot"></div>
        <span>Atualizando notícias...</span>
    </div>

    <!-- SCROLL TO TOP -->
    <button class="scroll-top" onclick="scrollToTop()">
        <i class="fas fa-chevron-up"></i>
    </button>

    <!-- FOOTER -->
    <footer class="main-footer">
        <div class="footer-container">
            <div class="footer-section">
                <h3>NewsHub MOZ</h3>
                <ul class="footer-links">
                    <li><a href="#" onclick="showAbout()">Sobre</a></li>
                    <li><a href="#" onclick="showContact()">Contato</a></li>
                    <li><a href="#" onclick="showPrivacy()">Privacidade</a></li>
                    <li><a href="#" onclick="showTerms()">Termos</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>Categorias</h3>
                <ul class="footer-links">
                    <li><a href="#" onclick="filterByCategory('politics')">Política</a></li>
                    <li><a href="#" onclick="filterByCategory('economy')">Economia</a></li>
                    <li><a href="#" onclick="filterByCategory('sports')">Esportes</a></li>
                    <li><a href="#" onclick="filterByCategory('society')">Sociedade</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>Fontes</h3>
                <ul class="footer-links">
                    <li><a href="#" onclick="openSource('opais')">O País</a></li>
                    <li><a href="#" onclick="openSource('noticias')">Notícias</a></li>
                    <li><a href="#" onclick="openSource('canal')">Canal Moz</a></li>
                    <li><a href="#" onclick="openSource('savana')">Savana</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>Recursos</h3>
                <ul class="footer-links">
                    <li><a href="#" onclick="openAdminPanel()">Painel Admin</a></li>
                    <li><a href="#" onclick="exportNews()">Exportar</a></li>
                    <li><a href="#" onclick="showSavedNews()">Guardadas</a></li>
                    <li><a href="#" onclick="showSettings()">Configurações</a></li>
                </ul>
            </div>
        </div>
        
        <div class="copyright">
            <p>&copy; 2024 NewsHub MOZ - Agregador Inteligente de Notícias Moçambicanas</p>
            <p>claudioarmando001@gmail.com | +258 869 667 677</p>
        </div>
    </footer>

    <script>
    // CONFIGURAÇÃO DO SISTEMA
    const APP_CONFIG = {
        name: 'NewsHub MOZ',
        version: '2.0.0',
        storageKey: 'newshub_moz_data',
        adminPassword: '0800',
        updateInterval: 30000, // 30 segundos
        maxNewsAge: 24 * 60 * 60 * 1000, // 24 horas
        featuredCount: 3,
        trendingCount: 5
    };

    // FONTES DE NOTÍCIAS (APIs reais)
    const NEWS_SOURCES = [
        {
            id: 'opais',
            name: 'O País Moçambique',
            api: 'https://www.opais.co.mz/wp-json/wp/v2/posts',
            enabled: true,
            category: 'news',
            priority: 1,
            lastFetch: 0,
            color: '#1a73e8'
        },
        {
            id: 'noticias',
            name: 'Jornal Notícias',
            api: 'https://www.jornalnoticias.co.mz/wp-json/wp/v2/posts',
            enabled: true,
            category: 'news',
            priority: 1,
            lastFetch: 0,
            color: '#4285f4'
        },
        {
            id: 'canal',
            name: 'Canal de Moçambique',
            api: 'https://canal.co.mz/wp-json/wp/v2/posts',
            enabled: true,
            category: 'news',
            priority: 1,
            lastFetch: 0,
            color: '#34a853'
        },
        {
            id: 'savana',
            name: 'Savana Digital',
            api: 'https://savana.co.mz/wp-json/wp/v2/posts',
            enabled: true,
            category: 'news',
            priority: 1,
            lastFetch: 0,
            color: '#fbbc05'
        },
        {
            id: 'miramar',
            name: 'Miramar',
            api: 'https://miramar.co.mz/wp-json/wp/v2/posts',
            enabled: true,
            category: 'news',
            priority: 2,
            lastFetch: 0,
            color: '#ea4335'
        }
    ];

    // SISTEMA DE ARMAZENAMENTO
    const NewsStorage = {
        // Salva dados no localStorage com compressão
        set(key, data) {
            try {
                const compressed = JSON.stringify(data);
                localStorage.setItem(key, compressed);
                return true;
            } catch (e) {
                console.error('Erro ao salvar:', e);
                return false;
            }
        },

        // Carrega dados do localStorage
        get(key) {
            try {
                const data = localStorage.getItem(key);
                return data ? JSON.parse(data) : null;
            } catch (e) {
                console.error('Erro ao carregar:', e);
                return null;
            }
        },

        // Remove dados antigos (mais de 24h)
        cleanup() {
            const news = this.get('all_news') || [];
            const now = Date.now();
            const freshNews = news.filter(item => 
                now - new Date(item.timestamp).getTime() < APP_CONFIG.maxNewsAge
            );
            this.set('all_news', freshNews);
        },
      // Salva uma notícia como nativa
        saveNativeNews(article) {
            const nativeNews = this.get('native_news') || [];
            article.id = `native_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
            article.isNative = true;
            article.timestamp = new Date().toISOString();
            article.savedAt = article.timestamp;
            
            nativeNews.unshift(article);
            this.set('native_news', nativeNews.slice(0, 100)); // Limita a 100 notícias
            
            // Atualiza o cache geral
            this.updateNewsCache(article);
            
            return article;
        },

        // Atualiza cache de notícias
        updateNewsCache(article) {
            const allNews = this.get('all_news') || [];
            
            // Remove se já existir
            const existingIndex = allNews.findIndex(n => 
                n.title === article.title && n.source === article.source
            );
            
            if (existingIndex !== -1) {
                allNews.splice(existingIndex, 1);
            }
            
            allNews.unshift(article);
            this.set('all_news', allNews.slice(0, 200)); // Limita a 200 notícias
        },

        // Busca notícias salvas
        getSavedNews() {
            return this.get('native_news') || [];
        },

        // Remove notícia salva
        removeSavedNews(id) {
            const nativeNews = this.get('native_news') || [];
            const filtered = nativeNews.filter(n => n.id !== id);
            this.set('native_news', filtered);
            return filtered;
        }
    };

    // PROCESSADOR DE NOTÍCIAS
    const NewsProcessor = {
        // Converte artigo da API para formato interno
        parseArticle(apiArticle, source) {
            try {
                return {
                    id: `${source.id}_${apiArticle.id}`,
                    title: this.cleanText(apiArticle.title?.rendered || 'Sem título'),
                    excerpt: this.cleanText(apiArticle.excerpt?.rendered || '').substring(0, 200) + '...',
                    content: apiArticle.content?.rendered || '',
                    image: this.getFeaturedImage(apiArticle),
                    source: source.name,
                    sourceId: source.id,
                    date: apiArticle.date || new Date().toISOString(),
                    timestamp: new Date(apiArticle.date || Date.now()).getTime(),
                    link: apiArticle.link || '#',
                    category: this.detectCategory(apiArticle),
                    views: 0,
                    engagement: 0,
                    isNative: false,
                    featured: false
                };
            } catch (e) {
                console.error('Erro ao parsear artigo:', e);
                return null;
            }
        },

        // Limpa texto HTML
        cleanText(html) {
            return html
                .replace(/<[^>]*>/g, '')
                .replace(/&nbsp;/g, ' ')
                .replace(/&#[0-9]+;/g, '')
                .trim();
        },

        // Obtém imagem destacada
        getFeaturedImage(article) {
            if (article._embedded?.['wp:featuredmedia']?.[0]?.source_url) {
                return article._embedded['wp:featuredmedia'][0].source_url;
            }
            if (article.jetpack_featured_media_url) {
                return article.jetpack_featured_media_url;
            }
            
            // Imagem padrão baseada na categoria
            const category = this.detectCategory(article);
            const colors = {
                politics: '3f51b5',
                economy: '4caf50',
                sports: 'ff9800',
                society: '2196f3',
                health: 'e91e63',
                tech: '607d8b',
                culture: '9c27b0'
            };
            
            return `https://via.placeholder.com/600x400/${colors[category] || '1a73e8'}/ffffff?text=${encodeURIComponent(category.substring(0, 2).toUpperCase())}`;
        },

        // Detecta categoria automaticamente
        detectCategory(article) {
            const text = (article.title?.rendered + ' ' + article.content?.rendered).toLowerCase();
            
            const categories = {
                politics: ['política', 'governo', 'presidente', 'ministro', 'eleições', 'parlamento'],
                economy: ['economia', 'negócios', 'empresa', 'investimento', 'mercado', 'dinheiro'],
                sports: ['esporte', 'futebol', 'jogo', 'competição', 'atleta', 'campeonato'],
                society: ['sociedade', 'social', 'comunidade', 'educação', 'família', 'jovens'],
                health: ['saúde', 'médico', 'hospital', 'doença', 'vacina', 'tratamento'],
                tech: ['tecnologia', 'digital', 'internet', 'app', 'software', 'startup'],
                culture: ['cultura', 'arte', 'música', 'teatro', 'literatura', 'cinema']
            };
            
            for (const [category, keywords] of Object.entries(categories)) {
                if (keywords.some(keyword => text.includes(keyword))) {
                    return category;
                }
            }
            
            return 'society';
        },

        // Processa múltiplos artigos em paralelo
        async processBatch(articles, source) {
            return articles
                .map(article => this.parseArticle(article, source))
                .filter(article => article !== null);
        }
    };

    // FETCHER DE NOTÍCIAS
    const NewsFetcher = {
        // Busca notícias de uma fonte específica
        async fetchFromSource(source) {
            try {
                const now = Date.now();
                const cacheKey = `cache_${source.id}_${Math.floor(now / 60000)}`; // Cache por minuto
             // Verifica cache
                const cached = NewsStorage.get(cacheKey);
                if (cached && now - source.lastFetch < 30000) { // 30 segundos
                    return cached;
                }
                
                // Busca da API com timeout
                const controller = new AbortController();
                const timeout = setTimeout(() => controller.abort(), 10000);
                
                const response = await fetch(`${source.api}?_embed&per_page=10&timestamp=${now}`, {
                    signal: controller.signal,
                    headers: {
                        'Accept': 'application/json',
                        'Cache-Control': 'no-cache'
                    }
                });
                
                clearTimeout(timeout);
                
                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}`);
                }
                
                const articles = await response.json();
                const processed = await NewsProcessor.processBatch(articles, source);
                
                // Atualiza cache
                source.lastFetch = now;
                NewsStorage.set(cacheKey, processed);
                
                // Atualiza storage geral
                processed.forEach(article => NewsStorage.updateNewsCache(article));
                
                return processed;
                
            } catch (error) {
                console.error(`Erro ao buscar de ${source.name}:`, error);
                return [];
            }
        },

        // Busca de todas as fontes em paralelo
        async fetchAllSources() {
            const enabledSources = NEWS_SOURCES.filter(s => s.enabled);
            
            // Usa Promise.allSettled para não parar se uma falhar
            const results = await Promise.allSettled(
                enabledSources.map(source => this.fetchFromSource(source))
            );
            
            // Combina todos os resultados
            let allArticles = [];
            results.forEach((result, index) => {
                if (result.status === 'fulfilled') {
                    allArticles = allArticles.concat(result.value);
                } else {
                    console.warn(`Fonte ${enabledSources[index].name} falhou:`, result.reason);
                }
            });
            
            // Ordena por data (mais recente primeiro)
            allArticles.sort((a, b) => b.timestamp - a.timestamp);
            
            return allArticles;
        },

        // Busca notícias em tempo real
        async fetchRealTime() {
            showRealTimeIndicator();
            
            try {
                const newArticles = await this.fetchAllSources();
                const nativeNews = NewsStorage.get('native_news') || [];
                
                // Combina com notícias nativas
                const allNews = [...nativeNews, ...newArticles];
                
                // Remove duplicatas
                const uniqueNews = this.removeDuplicates(allNews);
                
                // Atualiza visualização
                updateNewsDisplay(uniqueNews);
                
                // Esconde indicador
                setTimeout(hideRealTimeIndicator, 2000);
                
            } catch (error) {
                console.error('Erro no fetch em tempo real:', error);
                hideRealTimeIndicator();
            }
        }
    };

    // SISTEMA DE EXIBIÇÃO
    const NewsDisplay = {
        currentView: 'grid',
        currentCategory: 'all',
        currentSearch: '',
        
        // Cria card de notícia
        createNewsCard(article, isFeatured = false) {
            const isSaved = article.isNative || false;
            const timeAgo = this.getTimeAgo(article.timestamp);
            const categoryName = this.getCategoryName(article.category);
            
            return `
            <div class="news-card ${isFeatured ? 'featured' : ''}" data-id="${article.id}" data-category="${article.category}">
                <div class="news-image">
                    <img src="${article.image}" alt="${article.title}" loading="lazy"
                         onerror="this.src='https://via.placeholder.com/600x400/1a73e8/ffffff?text=${encodeURIComponent(article.source.substring(0, 2))}'">
                    <div class="image-overlay"></div>
                    <span class="category-badge">${categoryName}</span>
                    <button class="save-btn ${isSaved ? 'saved' : ''}" onclick="toggleSaveNews('${article.id}', event)">
                        <i class="fas fa-${isSaved ? 'bookmark' : 'bookmark'}"></i>
                    </button>
                </div>
                
                <div class="news-content">
                    <h3 class="news-title">
                        <a href="article.html?id=${article.id}" style="color: inherit; text-decoration: none;">${article.title}</a>
                    </h3>
                    <p class="news-excerpt">${article.excerpt}</p>
                    
                    <div class="news-meta">
                        <div class="source-info">
                            <div class="source-icon" style="background: ${this.getSourceColor(article.sourceId)}">
                                ${article.source.substring(0, 2)}
                            </div>
                            <span class="source-name">${article.source}</span>
                        </div>
                        <div class="news-time">
                            <i class="far fa-clock"></i>
                            <span>${timeAgo}</span>
                        </div>
                    </div>
                </div>
            </div>
            `;
        },
              // Cria item de trending
        createTrendingItem(article, index) {
            const timeAgo = this.getTimeAgo(article.timestamp);
            
            return `
            <div class="trending-item" data-id="${article.id}">
                <div class="trending-number">#${index + 1}</div>
                <h4 class="trending-title">
                    <a href="article.html?id=${article.id}" style="color: inherit; text-decoration: none;">${article.title}</a>
                </h4>
                <div class="trending-meta">
                    <span>${article.source}</span>
                    <span>${timeAgo}</span>
                </div>
            </div>
            `;
        },
        
        // Formata tempo relativo
        getTimeAgo(timestamp) {
            const now = Date.now();
            const diff = now - timestamp;
            
            const minutes = Math.floor(diff / 60000);
            const hours = Math.floor(diff / 3600000);
            const days = Math.floor(diff / 86400000);
            
            if (minutes < 1) return 'Agora mesmo';
            if (minutes < 60) return `${minutes} min`;
            if (hours < 24) return `${hours} h`;
            if (days < 7) return `${days} d`;
            return new Date(timestamp).toLocaleDateString('pt-PT');
        },
        
        // Obtém nome da categoria
        getCategoryName(category) {
            const names = {
                politics: 'Política',
                economy: 'Economia',
                sports: 'Esportes',
                society: 'Sociedade',
                health: 'Saúde',
                tech: 'Tecnologia',
                culture: 'Cultura'
            };
            return names[category] || 'Notícia';
        },
        
        // Obtém cor da fonte
        getSourceColor(sourceId) {
            const source = NEWS_SOURCES.find(s => s.id === sourceId);
            return source ? source.color : '#1a73e8';
        }
    };

    // FUNÇÕES GLOBAIS
    let allNews = [];
    let currentNews = [];
    
    // Inicializa o sistema
    async function init() {
        // Limpa dados antigos
        NewsStorage.cleanup();
        
        // Carrega notícias salvas
        const savedNews = NewsStorage.getSavedNews();
        
        // Busca notícias em tempo real
        await loadNews();
        
        // Configura atualização automática
        setupAutoRefresh();
        
        // Configura scroll infinito
        setupInfiniteScroll();
        
        // Configura observador de visibilidade
        setupVisibilityObserver();
    }
    
    // Carrega notícias
    async function loadNews() {
        showLoadingState();
        
        try {
            // Busca de fontes externas
            const externalNews = await NewsFetcher.fetchAllSources();
            
            // Notícias nativas
            const nativeNews = NewsStorage.getSavedNews();
            
            // Combina e remove duplicatas
            allNews = removeDuplicates([...nativeNews, ...externalNews]);
            
            // Ordena por data
            allNews.sort((a, b) => b.timestamp - a.timestamp);
            
            // Atualiza exibição
            updateNewsDisplay(allNews);
            
        } catch (error) {
            console.error('Erro ao carregar notícias:', error);
            showErrorState();
        }
        
        hideLoadingState();
    }
    
    // Atualiza exibição das notícias
    function updateNewsDisplay(newsList) {
        currentNews = newsList;
        
        // Se não houver notícias
        if (newsList.length === 0) {
            document.getElementById('empty-state').style.display = 'block';
            document.getElementById('featured-news').innerHTML = '';
            document.getElementById('trending-news').innerHTML = '';
            document.getElementById('all-news').innerHTML = '';
            return;
        }
        
        document.getElementById('empty-state').style.display = 'none';
        
        // Notícias em destaque (mais recentes)
        const featuredNews = newsList.slice(0, APP_CONFIG.featuredCount);
        const featuredHTML = featuredNews.map((article, index) => 
            NewsDisplay.createNewsCard(article, true)
        ).join('');
        document.getElementById('featured-news').innerHTML = featuredHTML;
        
        // Notícias em alta (mais visualizadas/engajadas)
        const trendingNews = [...newsList]
            .sort((a, b) => (b.views || 0) - (a.views || 0))
            .slice(0, APP_CONFIG.trendingCount);
        const trendingHTML = trendingNews.map((article, index) => 
            NewsDisplay.createTrendingItem(article, index)
        ).join('');
        document.getElementById('trending-news').innerHTML = trendingHTML;
        
        // Todas as notícias (restantes)
        const remainingNews = newsList.slice(APP_CONFIG.featuredCount);
        const allNewsHTML = remainingNews.map(article => 
            NewsDisplay.createNewsCard(article, false)
        ).join('');
        document.getElementById('all-news').innerHTML = allNewsHTML;
    }
    
    // Filtra por categoria
    function filterByCategory(category) {
        NewsDisplay.currentCategory = category;
        
        // Atualiza navegação
        document.querySelectorAll('.nav-item').forEach(item => {
            item.classList.remove('active');
        });
        event.target.classList.add('active');
        
        // Filtra notícias
        let filtered = allNews;
        if (category !== 'all') {
            filtered = allNews.filter(article => article.category === category);
        }
        
        updateNewsDisplay(filtered);
        scrollToTop();
    }
    
    // Busca notícias
    function searchNews(query) {
        NewsDisplay.currentSearch = query.toLowerCase().trim();
        
        if (!query) {
            updateNewsDisplay(allNews);
            return;
        }
        
        const filtered = allNews.filter(article =>
            article.title.toLowerCase().includes(query) ||
            article.excerpt.toLowerCase().includes(query) ||
            article.source.toLowerCase().includes(query)
        );
        
        updateNewsDisplay(filtered);
    }
        // Salva/remove notícia
    function toggleSaveNews(articleId, event) {
        event.stopPropagation();
        
        const article = allNews.find(n => n.id === articleId);
        if (!article) return;
        
        const btn = event.target.closest('.save-btn');
        
        if (article.isNative) {
            // Remove notícia nativa
            const updatedNews = NewsStorage.removeSavedNews(articleId);
            allNews = allNews.filter(n => n.id !== articleId);
            updateNewsDisplay(currentNews.filter(n => n.id !== articleId));
            
            showNotification('Notícia removida', 'success');
        } else {
            // Salva como nativa
            const savedArticle = NewsStorage.saveNativeNews(article);
            allNews.unshift(savedArticle);
            
            // Atualiza botão
            btn.classList.add('saved');
            btn.innerHTML = '<i class="fas fa-bookmark"></i>';
            
            showNotification('Notícia guardada como nativa', 'success');
        }
    }
    
    // Mostra notícias guardadas
    function showSavedNews() {
        const savedNews = NewsStorage.getSavedNews();
        updateNewsDisplay(savedNews);
        
        // Atualiza navegação
        document.querySelectorAll('.nav-item').forEach(item => {
            item.classList.remove('active');
        });
        
        showNotification(`Mostrando ${savedNews.length} notícias guardadas`, 'info');
    }
    
    // Painel admin
    function openAdminPanel() {
        const password = prompt('Digite a senha de administrador:');
        if (password === APP_CONFIG.adminPassword) {
            window.location.href = 'admin.html';
        } else if (password) {
            showNotification('Senha incorreta', 'error');
        }
    }
    
    // Atualiza notícias
    function refreshNews() {
        NewsFetcher.fetchRealTime();
    }
    
    // Remove duplicatas
    function removeDuplicates(newsList) {
        const seen = new Set();
        return newsList.filter(article => {
            const key = article.title + article.source;
            if (seen.has(key)) return false;
            seen.add(key);
            return true;
        });
    }
    
    // Estados de carregamento
    function showLoadingState() {
        document.body.style.opacity = '0.8';
        document.body.style.pointerEvents = 'none';
    }
    
    function hideLoadingState() {
        document.body.style.opacity = '1';
        document.body.style.pointerEvents = 'auto';
    }
    
    function showErrorState() {
        // Implementar tratamento de erro visual
    }
    
    // Notificações
    function showNotification(message, type = 'info') {
        // Implementar sistema de notificações toast
        console.log(`[${type.toUpperCase()}] ${message}`);
    }
    
    // Indicador em tempo real
    function showRealTimeIndicator() {
        const indicator = document.getElementById('real-time-indicator');
        indicator.style.display = 'flex';
    }
    
    function hideRealTimeIndicator() {
        const indicator = document.getElementById('real-time-indicator');
        indicator.style.display = 'none';
    }
    
    // Configurações
    function setupAutoRefresh() {
        setInterval(() => {
            if (document.visibilityState === 'visible') {
                NewsFetcher.fetchRealTime();
            }
        }, APP_CONFIG.updateInterval);
    }
    
    function setupInfiniteScroll() {
        let loading = false;
        
        window.addEventListener('scroll', () => {
            if (loading) return;
            
            const { scrollTop, scrollHeight, clientHeight } = document.documentElement;
            
            if (scrollTop + clientHeight >= scrollHeight - 500) {
                loading = true;
                // Carregar mais notícias aqui
                setTimeout(() => {
                    loading = false;
                }, 1000);
            }
        });
    }
    
    function setupVisibilityObserver() {
        document.addEventListener('visibilitychange', () => {
            if (document.visibilityState === 'visible') {
                NewsFetcher.fetchRealTime();
            }
        });
    }
    
    // Scroll para topo
    function scrollToTop() {
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }
    
    // Configura botão de scroll
    window.addEventListener('scroll', () => {
        const scrollBtn = document.querySelector('.scroll-top');
        if (window.scrollY > 500) {
            scrollBtn.classList.add('visible');
        } else {
            scrollBtn.classList.remove('visible');
        }
    });
    
    // Exporta notícias
    function exportNews() {
        const data = {
            news: allNews,
            exportedAt: new Date().toISOString(),
            count: allNews.length
        };
        
        const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = `newshub-export-${new Date().toISOString().split('T')[0]}.json`;
        a.click();
        
        showNotification('Notícias exportadas com sucesso', 'success');
    }
    
    // Funções auxiliares da UI
    function showCategories() {
        // Implementar modal de categorias
    }
    
    function toggleViewMode() {
        // Implementar alternância entre grid e lista
    }
    
    function sortByTime(order) {
        // Implementar ordenação
    }
    
    function showMoreTrending() {
        // Implementar carregar mais trending
    }
    
    // Funções do footer
    function showAbout() {
        alert('NewsHub MOZ - Agregador Inteligente de Notícias Moçambicanas\nVersão 2.0.0');
    }
    
    function showContact() {
        alert('Contato: claudioarmando001@gmail.com\nTelefone: +258 869 667 677');
    }
    
    function showPrivacy() {
        alert('Política de Privacidade\n\nNão coletamos dados pessoais.');
    }
    
    function showTerms() {
        alert('Termos de Uso\n\nAs notícias são agregadas de fontes públicas.');
    }
    
    function openSource(sourceId) {
        const source = NEWS_SOURCES.find(s => s.id === sourceId);
        if (source) {
            window.open(source.api.replace('/wp-json/wp/v2/posts', ''), '_blank');
        }
    }
    
    function showSettings() {
        // Implementar configurações
    }
    
    // Inicializa quando o DOM estiver pronto
    document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>